# deb postrm 2017-01-03
if test "$1" = "remove";
then
{
   # total uninstall

   # Remove desktop file
   rm -f /usr/share/applications/irfanview.desktop
   which update-desktop-database && update-desktop-database -q /usr/share/applications &

   # Remove icons
   which xdg-icon-resource && {
      for num in 16 24 32 48 64;
      do
         # Remove application icons
         for thistheme in hicolor locolor Lubuntu;
         do
            xdg-icon-resource uninstall --context apps --size "${num}" --theme "${thistheme}" --noupdate irfan &
         done
      done

      # remove scalable application icons
      # custom: Numix-Circle uses svg for size 48
      rm -f /usr/share/icons/Numix-Circle/48/apps/irfan.svg
      # custom: Lubuntu uses svg for size 48
      rm -f /usr/share/icons/Lubuntu/apps/48/irfan.svg
      # default
      rm -f /usr/share/icons/hicolor/48x48/apps/irfan.png
      rm -f /usr/share/icons/hicolor/scalable/apps/irfan.svg

      # Update icon caches
      xdg-icon-resource forceupdate &
      for word in hicolor locolor Numix-Circle Numix Lubuntu elementary-xfce;
      do
         touch --no-create /usr/share/icons/${word}
         gtk-update-icon-cache /usr/share/icons/${word} &
      done
   }
} 1>/dev/null 2>&1
fi
exit 0
